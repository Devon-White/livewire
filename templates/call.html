<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Welcome - LiveWire SignalWire Demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
    <link rel="stylesheet" href="/static/css/styles.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <style>
        /* Page-specific styles for the call button with integrated loading spinner */
        .call-button-container {
            /* Container takes up consistent space regardless of contents */
            min-height: 48px;
            display: block;
            margin-bottom: 20px;
        }
        
        /* Normal call button state */
        #callButton:not(.demo-button-disabled) .call-text {
            display: flex !important; /* Show phone icon and text */
        }
        #callButton:not(.demo-button-disabled) .call-loading {
            display: none !important; /* Hide spinner */
        }
        
        /* Loading/disabled state - make it not look like a button */
        #callButton.demo-button-disabled {
            /* Remove all button styling */
            background: transparent !important;
            border: none !important;
            box-shadow: none !important;
            padding: 0 !important;
            
            /* Keep it visible but clear it's not interactive */
            opacity: 1 !important;
            visibility: visible !important;
            display: block !important;
            cursor: default !important;
            
            /* Remove min-width and other button constraints */
            min-width: 0 !important;
            transform: none !important;
            border-radius: 0 !important;
        }
        
        #callButton.demo-button-disabled .call-text {
            display: none !important; /* Hide phone icon and text */
        }
        
        #callButton.demo-button-disabled .call-loading {
            display: flex !important; /* Show spinner */
            flex-direction: column;
            align-items: center;
            text-align: center;
        }
        
        #callButton.demo-button-disabled .spinner-border {
            width: 2rem !important;
            height: 2rem !important;
            margin-bottom: 0.5rem !important;
        }
        
        #callButton.demo-button-disabled .loading-text {
            font-size: 0.9rem;
            color: #aaa;
        }
    </style>
</head>
<body>
    {% include '_navbar.html' %}
    <div class="container py-5">
        <h1 class="sw-gradient-text mb-4">Context aware call transfers with AI!</h1>
        
        <div class="call-button-container">
            <!-- All-in-one button with loading state -->
            <button id="callButton" class="demo-button demo-button-disabled d-flex align-items-center justify-content-center">
                <!-- Normal call state (shown when not disabled) -->
                <span class="call-text d-flex align-items-center">
                    <i class="bi bi-telephone-fill me-2" style="font-size: 22px;"></i>
                    Call Now
                </span>
                
                <!-- Loading state (shown when disabled) -->
                <span class="call-loading">
                    <div class="spinner-border text-info" role="status">
                        <span class="visually-hidden">Loading...</span>
                    </div>
                    <span class="loading-text">Initializing widget...</span>
                </span>
            </button>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/@niravcodes/call-widget@latest/dist/c2c-widget-full.umd.min.js"></script>
    <script type="module">
      import { setupCallWidget } from '/static/js/modules/call/index.js';
      // The module will auto-initialize via its DOMContentLoaded listener
    </script>
</body>
</html> 